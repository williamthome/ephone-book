<main class="container">
  <ul id="contact-list">
    ~s
  </ul>
  <a class="primary-button float-button" href="/new">+</a>
</main>

<script>
  document
    .getElementById("contact-list")
    .addEventListener("click", async (e) => {
      const { target: { dataset: { action, contactId } } } = e

      const fnByTargetAction = {
        "delete": async () => {
          if (!confirm(
            `Confirm delete the contact with id ${contactId}?`
          )) return

          await doFetch(fetch(`/api/contacts/${contactId}`, {
            method: "delete",
          }))
        }
      }

      const actionFn = fnByTargetAction[action]
      actionFn && await actionFn()
    })
</script>